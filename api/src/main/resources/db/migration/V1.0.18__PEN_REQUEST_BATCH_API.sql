--Modify PAYLOAD_BLOB Column to BLOB
ALTER TABLE PEN_REQUEST_BATCH_SAGA
    ADD (
        PAYLOAD_BLOB BLOB
        ) LOB (PAYLOAD_BLOB) STORE AS PAYLOAD_BLOB (TABLESPACE API_PENRQSTB_BLOB_DATA);
UPDATE PEN_REQUEST_BATCH_SAGA SET PAYLOAD_BLOB = UTL_RAW.CAST_TO_RAW(PAYLOAD);
ALTER TABLE PEN_REQUEST_BATCH_SAGA DROP COLUMN PAYLOAD;
ALTER TABLE PEN_REQUEST_BATCH_SAGA RENAME COLUMN PAYLOAD_BLOB TO PAYLOAD;
ALTER TABLE PEN_REQUEST_BATCH_SAGA
    MODIFY (
        PAYLOAD NOT NULL
        );

--Modify SAGA_EVENT_RESPONSE_BLOB Column to BLOB
ALTER TABLE PEN_REQUEST_BATCH_SAGA_EVENT_STATES
    ADD (
        SAGA_EVENT_RESPONSE_BLOB BLOB
        ) LOB (SAGA_EVENT_RESPONSE_BLOB) STORE AS SAGA_EVENT_RESPONSE_BLOB (TABLESPACE API_PENRQSTB_BLOB_DATA);
UPDATE PEN_REQUEST_BATCH_SAGA_EVENT_STATES SET SAGA_EVENT_RESPONSE_BLOB = UTL_RAW.CAST_TO_RAW(SAGA_EVENT_RESPONSE);
ALTER TABLE PEN_REQUEST_BATCH_SAGA_EVENT_STATES DROP COLUMN SAGA_EVENT_RESPONSE;
ALTER TABLE PEN_REQUEST_BATCH_SAGA_EVENT_STATES RENAME COLUMN SAGA_EVENT_RESPONSE_BLOB TO SAGA_EVENT_RESPONSE;
ALTER TABLE PEN_REQUEST_BATCH_SAGA_EVENT_STATES
    MODIFY (
        SAGA_EVENT_RESPONSE NOT NULL
        );

--Modify EVENT_PAYLOAD_BLOB Column to BLOB
ALTER TABLE PEN_REQUEST_BATCH_EVENT
    ADD (
        EVENT_PAYLOAD_BLOB BLOB
        ) LOB (EVENT_PAYLOAD_BLOB) STORE AS EVENT_PAYLOAD_BLOB (TABLESPACE API_PENRQSTB_BLOB_DATA);
UPDATE PEN_REQUEST_BATCH_EVENT SET EVENT_PAYLOAD_BLOB = UTL_RAW.CAST_TO_RAW(EVENT_PAYLOAD);
ALTER TABLE PEN_REQUEST_BATCH_EVENT DROP COLUMN EVENT_PAYLOAD;
ALTER TABLE PEN_REQUEST_BATCH_EVENT RENAME COLUMN EVENT_PAYLOAD_BLOB TO EVENT_PAYLOAD;
ALTER TABLE PEN_REQUEST_BATCH_EVENT
    MODIFY (
        EVENT_PAYLOAD NOT NULL
        );
